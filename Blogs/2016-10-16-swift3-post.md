---
layout: post
title: "Swift 3.0"
description: "è®°å½• Swift 3.0 çš„ç¬”è®°"
date: 2016-10-16
tags: [Swift]
comments: true
share: false
---

# åŸºç¡€çŸ¥è¯†

## ç±»å‹

> Swift åŸºç¡€ç±»å‹ä»¥åŠé›†åˆç±»å‹éƒ½æ˜¯å€¼ç±»å‹ã€‚

* åŸºç¡€ç±»å‹
    * Int
        * Int8
        * Int16
        * Int32
        * Int64
        * UInt
    * Double
    * Float
    * Bool
    * Character
    * String
* é›†åˆç±»å‹
    * Array
    * Set
    * Dictionary
* å…ƒç»„ (Tuple)
    * (,)
* å¯é€‰ç±»å‹
    * nil

## å¸¸é‡å’Œå˜é‡

> Swift å¸¦æœ‰ç±»å‹æ¨æ–­åŠŸèƒ½ï¼Œå±æ€§çš„ç±»å‹å¯ä»¥æ³¨æ˜ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆå§‹å€¼æ¨æ–­ã€‚


* å¸¸é‡
    * let name: Type = value
    * let name = value
* å˜é‡
    * var name: Type = value
    * var name = value
    * var name0 = value0, name1 = value1, name2 = value2
    * var name0, name1, name2: Type
* å‘½åè§„åˆ™
    * å¯ä»¥ä½¿ç”¨ Unicode å­—ç¬¦ä½œä¸ºåå­—ã€‚
    * ä¸èƒ½åŒ…å«æ•°å­¦ç¬¦å·ï¼Œç®­å¤´ï¼Œä¿ç•™æˆ–éæ³•çš„ Unicode ç ä½ï¼Œè¿çº¿ä¸åˆ¶è¡¨ç¬¦ã€‚
    * ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚

## è¾“å‡º

public func print(_ items: Any..., separator: String = default, terminator: String = default)

## æ³¨é‡Š

```
// å•è¡Œæ³¨é‡Šå†…å®¹
/// Xcode ä»£ç æç¤ºçš„å•è¡Œæ³¨é‡Šå†…å®¹
```

```
/*
    å¤šè¡Œæ³¨é‡Šå†…å®¹
 */
/**
    Xcode ä»£ç æç¤ºçš„å¤šè¡Œæ³¨é‡Šå†…å®¹
 */
```

## åˆ†å·

Swift ä¸å¼ºåˆ¶è¦æ±‚ä½¿ç”¨åˆ†å·ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œæ¯”å¦‚åœ¨åŒä¸€è¡Œå†…äº›å¤šæ¡ç‹¬ç«‹è¯­å¥çš„æ—¶å€™ã€‚

```
let cat = "ğŸ±"; print(cat)
// è¾“å‡º "ğŸ±"
```

## æ•°å€¼å‹å­—é¢é‡

* åè¿›åˆ¶æ•°ï¼Œæ²¡æœ‰å‰ç¼€
* äºŒè¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯0b
* å…«è¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯0o
* åå…­è¿›åˆ¶æ•°ï¼Œå‰ç¼€æ˜¯0x

```
let decimalInteger = 17
let binaryInteger = 0b10001       // 17 in binary notation
let octalInteger = 0o21           // 17 in octal notation
let hexadecimalInteger = 0x11     // 17 in hexadecimal notation

let paddedDouble = 000123.456      // 123.456
let oneMillion = 1_000_000         // 1000000
let justOverOneMillion = 1_000_000.000_000_1 // 1000000.0000001
```

## ç±»å‹è½¬æ¢

å®é™…ä¸Š Swift çš„ç±»å‹è½¬æ¢åº”è¯¥æ˜¯é€šè¿‡æ³›å‹çš„æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°ç±»å‹çš„å€¼ï¼Œä»¥æ­¤è¾¾åˆ°ç±»å‹è½¬æ¢æ•ˆæœçš„ã€‚

## ç±»å‹åˆ«å

* typealias <New Type Name> = <Old Type Name>
* typealias AudioSample = UInt16

## å…ƒç»„ (Tuples)

æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸ºä¸€ä¸ªå¤åˆå€¼ï¼Œå…ƒç»„å†…éƒ¨çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œä¸è¦æ±‚æ˜¯ç›¸åŒç±»å‹ã€‚

```
let http404Error = (404, "Not Found")
// http404Error çš„ç±»å‹æ˜¯ (Int, String)ï¼Œå€¼æ˜¯ (404, "Not Found")

let (statusCode, statusMessage) = http404Error
print("The status code is \(statusCode)")
// è¾“å‡º "The status code is 404"
print("The status message is \(statusMessage)")
// è¾“å‡º "The status message is Not Found"

let (justTheStatusCode, _) = http404Error
print("The status code is \(justTheStatusCode)")
// è¾“å‡º "The status code is 404"

print("The status code is \(http404Error.0)")
// è¾“å‡º "The status code is 404"
print("The status message is \(http404Error.1)")
// è¾“å‡º "The status message is Not Found"

let http200Status = (statusCode: 200, description: "OK")

print("The status code is \(http200Status.statusCode)")
// è¾“å‡º "The status code is 200"
print("The status message is \(http200Status.description)")
// è¾“å‡º "The status message is OK"
```

## å¯é€‰ç±»å‹ (optional)

ä½¿ç”¨ ? å’Œ ! æ¥è¡¨ç¤ºå¯é€‰ç±»å‹ã€‚

```
var value: Int?
value = nil // nil
value = 404 // 404?

if value == nil {
    // false
}

if let new = value {
    // new = 404
}

if let new1 = value1, let new2 = value2 {
    
}
```

## é”™è¯¯å¤„ç† (error handing)

```
// å®šä¹‰å¯èƒ½æŠ¥é”™çš„å‡½æ•°
func canThrowAnError() throws {
    
}

// è°ƒç”¨è¯¥å‡½æ•°
do {
    try canThrowAnError()
    // æ²¡æœ‰é”™è¯¯æŠ›å‡º
} catch {
    // æœ‰é”™è¯¯æŠ›å‡º
}

## æ–­è¨€

```
// å½“ condition ä¸º true åˆ™ä¸ä¼šè§¦å‘æ–­è¨€ï¼Œå¦åˆ™å°±è§¦å‘ã€‚
public func assert(_ condition: @autoclosure () -> Bool, _ message: @autoclosure () -> String = default, file: StaticString = #file, line: UInt = #line)
```

---
<!--

    -->

---
<!--

    -->

# è¿ç®—ç¬¦ (Operators)

* åŸºæœ¬è¿ç®—ç¬¦
* é«˜çº§è¿ç®—ç¬¦

## åŸºæœ¬è¿ç®—ç¬¦ (Basic Operators)

* èµ‹å€¼è¿ç®—ç¬¦
    * =
* æ­£è´Ÿå·è¿ç®—ç¬¦
    * -
    * +
* ç®—æœ¯è¿ç®—ç¬¦
    * +
    * -
    * *
    * /
    * %
* ç»„åˆè¿ç®—ç¬¦
    * +=
    * -=
    * *=
    * /=
    * %=
* ä¸‰å…ƒè¿ç®—ç¬¦
    * condition ? trueReturn : falseRetrun
* æ¯”è¾ƒè¿ç®—ç¬¦
    * ==
    * !=
    * \>
    * <
    * >=
    * <=
    * ===
    * !==
* ç©ºå€¼è¿ç®—ç¬¦
    * opetionValue ?? ifvalue
* åŒºé—´è¿ç®—ç¬¦
    * ...
    * ..<
* é€»è¾‘è¿ç®—ç¬¦
    * !
    * &&
    * ||

> String ç±»å‹ä¹Ÿæœ‰ + æ³•è¿ç®—ï¼Œä½œç”¨æ˜¯æ‹¼æ¥å­—ç¬¦ä¸²ã€‚
> Swift ä¸­å¯ä»¥å¯¹æµ®ç‚¹æ•°è¿›è¡Œæ±‚ä½™è¿ç®—ã€‚

---
<!--

    -->


## é«˜çº§è¿ç®—ç¬¦

---
<!--

    -->

---
<!--

    -->

# å­—ç¬¦ä¸²ä¸å­—ç¬¦

* å­—ç¬¦ä¸²å±æ€§:
    * String æ˜¯ struct ç±»å‹
    * å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹å¯¹è±¡
* å­—ç¬¦ä¸²å­—é¢é‡: 
    * let some = "Some string literal value."
* åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²: 
    * var empty = ""
    * var empty = String()
    * string.isEmpty // Bool
* å­—ç¬¦ä¸²å¯å˜æ€§
    * empty += "Add new string"
* å•ä¸ªå­—ç¬¦
    * for character in string.characters { /* do some thing */ }
    * let char: Character = "!"
    * string = String([Character])
* å­—ç¬¦ä¸²æ“ä½œ
    * var string = "hello" + " there" // string = "hello there"
    * string += "!" // string = "hello there!"
    * string.append(Character)
* å­—ç¬¦ä¸²æ’å€¼
    * var string = "\(some value) times is \(other value)"
* Unicode
    * ç‰¹æ®Šå­—ç¬¦
        * è½¬ä¹‰å­—ç¬¦
            * \0(ç©ºå­—ç¬¦)
            * \\(åæ–œçº¿)
            * \t(æ°´å¹³åˆ¶è¡¨ç¬¦)
            * \n(æ¢è¡Œç¬¦)
            * \r(å›è½¦ç¬¦)
            * \"(åŒå¼•å·)
            * \'(å•å¼•å·)
        * Unicode æ ‡é‡
            * \u{ä»»æ„ä¸€åˆ°å…«ä½åå…­è¿›åˆ¶æ•°ä¸”å¯ç”¨çš„ Unicode ä½ç }
* å­—ç¬¦ä¸²è®¡æ•°
    * string.characters.count
* è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²
    * String.Index æ˜¯ String ä¸­ Character ä½ç½®çš„ç´¢å¼•
        * ä¸ç›´æ¥ä½¿ç”¨ Index æ˜¯å› ä¸ºå†…éƒ¨æœ‰ Unicode ç ã€‚
        * string.startIndex å­—ç¬¦ä¸²å¼€å¤´çš„ä½ç½®
        * string.endIndex å­—ç¬¦ä¸²ç»“æŸä¹‹åçš„ä½ç½®
        * ä½¿ç”¨ String.characters.indices å¯ä»¥ä¾¿åˆ©æ‰€æœ‰ index
            * for index in greeting.characters.indices {}
        * è®¿é—®: let string = "Test String!"
            * string[string.startIndex] // T
            * string[string.index(before: string.endIndex)] // !
            * string[string.index(after: string.startIndex)] // e
            * string[string.index(string.index, offsetBy: 5)] // S
            * string[string.endIndex] // é”™è¯¯
            * string.index(after: endIndex) // é”™è¯¯
    * æ’å…¥
        * string.insert(Characters, at: String.Index)
        * string.insert(contentsOf: String.characters, at: String.Index)
    * åˆ é™¤
        * string.remove(at: String.Index) // åˆ é™¤ Index å¾€å‰ä¸€ä¸ªå­—ç¬¦
        * string.removeSubrange(String.Index ..< String.Index)


---
<!--

    -->


# é›†åˆç±»å‹

* Arrays, Sets, Dictionaries ç±»å‹æ˜¯æ³›å‹é›†åˆ
* Arrays, Sets, Dictionaries çš„å‚¨å­˜æ•°æ®ç±»å‹å¿…é¡»æ˜ç¡®

## Arrays

* æ•°æ®ç±»å‹: Array<Element>
* åˆ›å»º
    * var ints = [Int]()        // {}
    * var ints: [Int] = []      // {}
    * var doubles = [Double](count: 3, repeatedValue: 0.0) // {0.0, 0.0, 0.0}
        * å¦‚æœ repeatedValue å‚æ•°å¡«å…¥æŸä¸ªç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä¹Ÿåªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ä¸‹æ ‡éƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚
* ç›¸åŠ 
    * var new = [Double](count: 2, repeatedValue: 0.0) + [Double](count: 2, repeatedValue: 2.0) // {0.0, 0.0, 2.0, 2.0}
        * å®é™…ä¸Šæ˜¯åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œè€Œä¸æ˜¯æ‹¼æ¥ï¼Œæœ‰å†…å­˜æ¶ˆè€—ã€‚
* è®¿é—®
    * count         // æ•°é‡
    * isEmpty       // æ£€æŸ¥ count æ˜¯å¦ä¸º 0
    * append(_:)    // æ·»åŠ å…ƒç´ 
    * +=            // æ·»åŠ æ•°ç»„
    * array[Int]    // ä¸‹æ ‡è®¿é—®æŸå…ƒç´ 
    * array[2..3]

## Sets


## Dictionaries


---
<!--

    -->

---
<!--

    -->

# æ§åˆ¶æµ


---
<!--

    -->

---
<!--

    -->

# å‡½æ•°ä¸é—­åŒ…åŠå…¶è°ƒç”¨

* å‡½æ•°
* é—­åŒ…
* å¯é€‰é“¾

## å‡½æ•°


---
<!--

    -->

## é—­åŒ…


---
<!--

    -->

## å¯é€‰é“¾


---
<!--

    -->

# æšä¸¾


---
<!--

    -->


# ç±»å’Œç»“æ„ä½“

* ç±»
* ç»“æ„ä½“
* å±æ€§
* æ–¹æ³•
* ä¸‹æ ‡
* ç»§æ‰¿
* æ„é€ è¿‡ç¨‹
* ææ„è¿‡ç¨‹
* åµŒå¥—ç±»å‹
* æ‰©å±•

## ç±»


---
<!--

    -->



## ç»“æ„ä½“


---
<!--

    -->


## å±æ€§


---
<!--

    -->


## æ–¹æ³•


---
<!--

    -->


## ä¸‹æ ‡


---
<!--

    -->


## ç»§æ‰¿


---
<!--

    -->


## æ„é€ è¿‡ç¨‹


---
<!--

    -->


## ææ„è¿‡ç¨‹


---
<!--

    -->


## åµŒå¥—ç±»å‹


---
<!--

    -->


## æ‰©å±•


---
<!--

    -->

---
<!--

    -->


# è‡ªåŠ¨å¼•ç”¨è®¡æ•°



---
<!--

    -->


---
<!--

    -->

# é”™è¯¯å¤„ç†


---
<!--

    -->


---
<!--

    -->

# ç±»å‹è½¬æ¢



---
<!--

    -->

---
<!--

    -->


# åè®®



---
<!--

    -->

---
<!--

    -->


# æ³›å‹


---
<!--

    -->

---
<!--

    -->


# è®¿é—®æ§åˆ¶



---
<!--

    -->

---
<!--

    -->


# æŒ‡é’ˆ



---
<!--

    -->

---
<!--

    -->


