---
layout: post
title: "Swift 3.0"
description: "记录 Swift 3.0 的笔记"
date: 2016-10-16
tags: [Swift]
comments: true
share: false
---

# 基础知识

## 类型

> Swift 基础类型以及集合类型都是值类型。

* 基础类型
    * Int
        * Int8
        * Int16
        * Int32
        * Int64
        * UInt
    * Double
    * Float
    * Bool
    * Character
    * String
* 集合类型
    * Array
    * Set
    * Dictionary
* 元组 (Tuple)
    * (,)
* 可选类型
    * nil

## 常量和变量

> Swift 带有类型推断功能，属性的类型可以注明，也可以通过初始值推断。


* 常量
    * let name: Type = value
    * let name = value
* 变量
    * var name: Type = value
    * var name = value
    * var name0 = value0, name1 = value1, name2 = value2
    * var name0, name1, name2: Type
* 命名规则
    * 可以使用 Unicode 字符作为名字。
    * 不能包含数学符号，箭头，保留或非法的 Unicode 码位，连线与制表符。
    * 不能以数字开头。

## 输出

public func print(_ items: Any..., separator: String = default, terminator: String = default)

## 注释

```
// 单行注释内容
/// Xcode 代码提示的单行注释内容
```

```
/*
    多行注释内容
 */
/**
    Xcode 代码提示的多行注释内容
 */
```

## 分号

Swift 不强制要求使用分号，但是也可以使用，比如在同一行内些多条独立语句的时候。

```
let cat = "🐱"; print(cat)
// 输出 "🐱"
```

## 数值型字面量

* 十进制数，没有前缀
* 二进制数，前缀是0b
* 八进制数，前缀是0o
* 十六进制数，前缀是0x

```
let decimalInteger = 17
let binaryInteger = 0b10001       // 17 in binary notation
let octalInteger = 0o21           // 17 in octal notation
let hexadecimalInteger = 0x11     // 17 in hexadecimal notation

let paddedDouble = 000123.456      // 123.456
let oneMillion = 1_000_000         // 1000000
let justOverOneMillion = 1_000_000.000_000_1 // 1000000.0000001
```

## 类型转换

实际上 Swift 的类型转换应该是通过泛型的构造函数来初始化一个新类型的值，以此达到类型转换效果的。

## 类型别名

* typealias <New Type Name> = <Old Type Name>
* typealias AudioSample = UInt16

## 元组 (Tuples)

把多个值组合成为一个复合值，元组内部的值可以是任意类型，不要求是相同类型。

```
let http404Error = (404, "Not Found")
// http404Error 的类型是 (Int, String)，值是 (404, "Not Found")

let (statusCode, statusMessage) = http404Error
print("The status code is \(statusCode)")
// 输出 "The status code is 404"
print("The status message is \(statusMessage)")
// 输出 "The status message is Not Found"

let (justTheStatusCode, _) = http404Error
print("The status code is \(justTheStatusCode)")
// 输出 "The status code is 404"

print("The status code is \(http404Error.0)")
// 输出 "The status code is 404"
print("The status message is \(http404Error.1)")
// 输出 "The status message is Not Found"

let http200Status = (statusCode: 200, description: "OK")

print("The status code is \(http200Status.statusCode)")
// 输出 "The status code is 200"
print("The status message is \(http200Status.description)")
// 输出 "The status message is OK"
```

## 可选类型 (optional)

使用 ? 和 ! 来表示可选类型。

```
var value: Int?
value = nil // nil
value = 404 // 404?

if value == nil {
    // false
}

if let new = value {
    // new = 404
}

if let new1 = value1, let new2 = value2 {
    
}
```

## 错误处理 (error handing)

```
// 定义可能报错的函数
func canThrowAnError() throws {
    
}

// 调用该函数
do {
    try canThrowAnError()
    // 没有错误抛出
} catch {
    // 有错误抛出
}

## 断言

```
// 当 condition 为 true 则不会触发断言，否则就触发。
public func assert(_ condition: @autoclosure () -> Bool, _ message: @autoclosure () -> String = default, file: StaticString = #file, line: UInt = #line)
```